FROM maven:3.8.5-openjdk-17
MAINTAINER DOUGLAS BAEK
ARG PROJECT_NAME
ENV JAR_NAME=$PROJECT_NAME

WORKDIR /$PROJECT_NAME

COPY . /$PROJECT_NAME

RUN mvn package
RUN echo "PACKAGE DIRECTORY ROOT"
RUN ls
RUN echo "PACKAGE DIRECTORY JAR PATH"
RUN ls target
ENTRYPOINT ["sh", "-c", "java -jar target/${JAR_NAME}.jar"]
